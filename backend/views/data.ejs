<!DOCTYPE html>
<html>
<head>
	<title>Data</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
	</script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="./css/main.css">
</head>
<body>
	<div class="col-md-4 col-md-offset-4">
		<div>
			<p>Profile Detail</p>
		</div>
		<div>
			<center>
				<table class="table table-hover text-center">
					<tr><td>Name </td><td><%= name %></td></tr>
					<tr><td>Email </td><td><%= email %></td></tr>
				</table>
			</center>
			<center>
					<h4>Asked Questions</h4>
				<table>
					<% for (let i = 0; i < questions.length; i ++) {%>
					<tr id="<%= questions[i].id %>">
						<td><a href="http://localhost:3005/questions/<%= questions[i].id %>"><%= questions[i].question %></a></td>
						<td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#" onclick="deleteQ(<%= questions[i].id%>)">Delete</a></td>
					</tr> 
					<% } %>
				</table>

			</center>
		</div>

		<div class="abc">
			<a href="./logout">Logout</a>
		</div>
	</div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.js"></script>
	<script>


		function checkForUpdates(){
			axios.get('http://localhost:3005/questions/remove', {
    id
  })
  .then(function (response) {

	  document.getElementById(response.data.id).innerHTML = '';
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  });
		}


		function deleteQ(id){
			document.getElementById(id).innerHTML = '';
		axios.post('http://localhost:3005/questions/remove', {
    id
  })
  .then(function (response) {

	  document.getElementById(response.data.id).innerHTML = '';
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  });
}
	</script>
</body>

</html>


